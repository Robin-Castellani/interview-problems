
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2_caesar &#8212; interview-problems  documentation</title>
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">interview-problems  documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for 2_caesar</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Caesar Cipher</span>
<span class="sd">==============</span>

<span class="sd">A Caesar cipher is a simple substitution cipher in which each letter</span>
<span class="sd">of the plain text is substituted with a letter found by moving</span>
<span class="sd">``n`` places down the alphabet.</span>

<span class="sd">For example, assume the input plain text is the following::</span>

<span class="sd">    abcd xyz</span>

<span class="sd">If the shift value, ``n``, is ``4``,</span>
<span class="sd">then the encrypted text would be the following::</span>

<span class="sd">    efgh bcd</span>

<span class="sd">You are to write a function that accepts two arguments, a plain-text</span>
<span class="sd">message and a number of letters to shift in the cipher. The function will</span>
<span class="sd">return an encrypted string with all letters transformed and all</span>
<span class="sd">punctuation and whitespace remaining unchanged.</span>

<span class="sd">.. note::</span>
<span class="sd">  You can assume the plain text is all lowercase ASCII except for</span>
<span class="sd">  whitespace and punctuation.</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">time</span>


<div class="viewcode-block" id="timer"><a class="viewcode-back" href="../2_caesar.html#2_caesar.timer">[docs]</a><span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Simple decorator to print how many microseconds</span>
<span class="sd">    a function requires to run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>  <span class="c1"># preserves the original function name</span>
    <span class="k">def</span> <span class="nf">wrapper_timer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">tic</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">toc</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
        <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">toc</span> <span class="o">-</span> <span class="n">tic</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">elapsed_time</span> <span class="o">*</span> <span class="mf">10e6</span><span class="si">:</span><span class="s2">0.0f</span><span class="si">}</span><span class="s2"> Œºseconds&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">wrapper_timer</span></div>


<div class="viewcode-block" id="cipher_caesar"><a class="viewcode-back" href="../2_caesar.html#2_caesar.cipher_caesar">[docs]</a><span class="nd">@timer</span>
<span class="k">def</span> <span class="nf">cipher_caesar</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Encrypt or decrypt the letters in a string preserving all non</span>
<span class="sd">    letters characters (such as punctuation) according to the Caesar</span>
<span class="sd">    method: shift the letters of ``n`` position.</span>

<span class="sd">    :param text: string to be decrypted or encrypted.</span>
<span class="sd">    :type text: str</span>
<span class="sd">    :param n: number of position to shift the letters.</span>
<span class="sd">    :type n: int</span>
<span class="sd">    :return: decrypted/encrypted string.</span>
<span class="sd">    :rtype: int</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># get the total number of lowercase letters</span>
    <span class="n">TOTAL_ASCII_LOWERCASE</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">)</span>
    <span class="c1"># initialise the encrypted output string</span>
    <span class="n">encrypted_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="c1"># loop over all the characters of the input string</span>
    <span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
        <span class="c1"># perform the encryption only on lowercase letters</span>
        <span class="k">if</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">:</span>
            <span class="n">char_position</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">character</span><span class="p">)</span>
            <span class="n">encrypted_char</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">[</span>
                <span class="n">char_position</span> <span class="o">+</span> <span class="n">n</span> <span class="o">-</span> <span class="n">TOTAL_ASCII_LOWERCASE</span>
            <span class="p">]</span>
            <span class="n">encrypted_text</span> <span class="o">+=</span> <span class="n">encrypted_char</span>
        <span class="c1"># preserve the digits, punctuation and whitespaces</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">encrypted_text</span> <span class="o">+=</span> <span class="n">character</span>

    <span class="k">return</span> <span class="n">encrypted_text</span></div>


<div class="viewcode-block" id="cipher_caesar_v2"><a class="viewcode-back" href="../2_caesar.html#2_caesar.cipher_caesar_v2">[docs]</a><span class="nd">@timer</span>
<span class="k">def</span> <span class="nf">cipher_caesar_v2</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Second version of the using list comprehension. More concise.</span>
<span class="sd">    Slower on single letters, faster on longer strings than V1.</span>

<span class="sd">    Encrypt or decrypt the letters in a string preserving all non</span>
<span class="sd">    letters characters (such as punctuation) according to the Caesar</span>
<span class="sd">    method: shift the letters of ``n`` position.</span>

<span class="sd">    :param text: string to be decrypted or encrypted.</span>
<span class="sd">    :type text: str</span>
<span class="sd">    :param n: number of position to shift the letters.</span>
<span class="sd">    :type n: int</span>
<span class="sd">    :return: decrypted/encrypted string.</span>
<span class="sd">    :rtype: int</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># get the total number of lowercase letters</span>
    <span class="n">TOTAL_ASCII_LOWERCASE</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">)</span>
    <span class="c1"># perform the encryption only on lowercase letters</span>
    <span class="c1"># preserve the digits, punctuation and whitespaces</span>
    <span class="n">list_str_encrypt</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">[</span>
            <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">character</span><span class="p">)</span> <span class="o">+</span> <span class="n">n</span> <span class="o">-</span> <span class="n">TOTAL_ASCII_LOWERCASE</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span> <span class="k">else</span> <span class="n">character</span>
        <span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">text</span>
    <span class="p">]</span>
    <span class="n">encrypted_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">list_str_encrypt</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">encrypted_text</span></div>


<div class="viewcode-block" id="cipher_caesar_v3"><a class="viewcode-back" href="../2_caesar.html#2_caesar.cipher_caesar_v3">[docs]</a><span class="nd">@timer</span>
<span class="k">def</span> <span class="nf">cipher_caesar_v3</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Second version of the using ``str``&#39;s ``translate`` function.</span>
<span class="sd">    Even more concise, slower on single characters but definitely</span>
<span class="sd">    faster than V2 on long strings.</span>

<span class="sd">    Encrypt or decrypt the letters in a string preserving all non</span>
<span class="sd">    letters characters (such as punctuation) according to the Caesar</span>
<span class="sd">    method: shift the letters of ``n`` position.</span>

<span class="sd">    :param text: string to be decrypted or encrypted.</span>
<span class="sd">    :type text: str</span>
<span class="sd">    :param n: number of position to shift the letters.</span>
<span class="sd">    :type n: int</span>
<span class="sd">    :return: decrypted/encrypted string.</span>
<span class="sd">    :rtype: int</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># create a conversion table only for ascii letters</span>
    <span class="n">conversion_table</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">maketrans</span><span class="p">(</span>
        <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">,</span>
        <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">[</span><span class="n">n</span><span class="p">:]</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">[:</span><span class="n">n</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="c1"># apply the conversion table to the input text</span>
    <span class="n">encrypted_text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">conversion_table</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">encrypted_text</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">cipher_caesar</span><span class="p">(</span><span class="n">letter</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="n">letter</span>
        <span class="k">assert</span> <span class="n">cipher_caesar_v2</span><span class="p">(</span><span class="n">letter</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="n">letter</span>
        <span class="k">assert</span> <span class="n">cipher_caesar_v3</span><span class="p">(</span><span class="n">letter</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="n">letter</span>

    <span class="k">for</span> <span class="n">dig</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">cipher_caesar</span><span class="p">(</span><span class="n">dig</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">==</span> <span class="n">dig</span>
        <span class="k">assert</span> <span class="n">cipher_caesar_v2</span><span class="p">(</span><span class="n">dig</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">==</span> <span class="n">dig</span>
        <span class="k">assert</span> <span class="n">cipher_caesar_v3</span><span class="p">(</span><span class="n">dig</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">==</span> <span class="n">dig</span>

    <span class="k">for</span> <span class="n">punct</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">punctuation</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">cipher_caesar</span><span class="p">(</span><span class="n">punct</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">punct</span>
        <span class="k">assert</span> <span class="n">cipher_caesar_v2</span><span class="p">(</span><span class="n">punct</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">punct</span>
        <span class="k">assert</span> <span class="n">cipher_caesar_v3</span><span class="p">(</span><span class="n">punct</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">punct</span>

    <span class="k">for</span> <span class="n">whitespace</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">whitespace</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">cipher_caesar</span><span class="p">(</span><span class="n">whitespace</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="n">whitespace</span>
        <span class="k">assert</span> <span class="n">cipher_caesar_v2</span><span class="p">(</span><span class="n">whitespace</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="n">whitespace</span>
        <span class="k">assert</span> <span class="n">cipher_caesar_v3</span><span class="p">(</span><span class="n">whitespace</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="n">whitespace</span>

    <span class="k">assert</span> <span class="n">cipher_caesar</span><span class="p">(</span><span class="s1">&#39;rkgerzr nhgbzngvba vf njrfbzr!&#39;</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span> <span class="o">==</span> \
           <span class="s1">&#39;extreme automation is awesome!&#39;</span>

    <span class="k">assert</span> <span class="n">cipher_caesar_v2</span><span class="p">(</span><span class="s1">&#39;rkgerzr nhgbzngvba vf njrfbzr!&#39;</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span> <span class="o">==</span> \
           <span class="s1">&#39;extreme automation is awesome!&#39;</span>

    <span class="k">assert</span> <span class="n">cipher_caesar_v3</span><span class="p">(</span><span class="s1">&#39;rkgerzr nhgbzngvba vf njrfbzr!&#39;</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span> <span class="o">==</span> \
           <span class="s1">&#39;extreme automation is awesome!&#39;</span>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">README: problems solved in Python üêç</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1_integer_sum.html">1_integer_sum module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_caesar.html">2_caesar module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_logparse.html">3_logparse module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4_sudoku.html">4_sudoku module</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="../py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="../genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Robin-Castellani.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>